context:
  version: "1.73.0"

package:
  name: grpc-bazel-rules
  version: ${{ version }}

source:
  url: https://github.com/grpc/grpc/archive/v${{ version }}.tar.gz
  sha256: 00865dbc3d7689fd9c5c7d0a10822a4eae175ca692870433b64106abcb1294a0
  patches:
    - 0001-Adjust-to-support-xla-specific-features.patch

build:
  number: 0
  noarch: generic

requirements:
  run_constraints:
    - libgrpc ${{ version }}.*

tests:
  - package_contents:
      files:
        - share/bazel/grpc/bazel/python_rules.bzl

about:
  homepage: https://grpc.io/
  repository: https://github.com/grpc/grpc
  license: Apache-2.0
  license_file: LICENSE
  summary: Bazel rules for grpc

extra:
  recipe-maintainers:
    - conda-forge/grpc-cpp
